<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= product.name %> | Dink Studio
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

</head>

<body class="antialiased selection:bg-[#C5A059] selection:text-black">
    <%- include('partials/header') %>

        <div class="pt-24 md:pt-32 pb-6 px-6 max-w-7xl mx-auto reveal">
            <nav
                class="flex items-center gap-3 text-[9px] md:text-[10px] font-black uppercase tracking-[0.3em] text-zinc-600">
                <a href="/catalog" class="hover:text-[#C5A059] transition">Collection</a>
                <span>/</span>
                <span class="text-zinc-400">
                    <%= product.category %>
                </span>
                <span class="hidden md:inline">/</span>
                <span class="text-[#C5A059] hidden md:inline">
                    <%= product.code %>
                </span>
            </nav>
        </div>

        <main class="max-w-7xl mx-auto px-4 md:px-6 pb-24 page-offset">
            <div class="flex flex-col lg:flex-row gap-8 lg:gap-16 lg:items-start">

                <div class="w-full lg:w-3/5 space-y-4 md:space-y-6 reveal">
                    <div
                        class="glass-panel product-stage rounded-[2.5rem] md:rounded-[3rem] flex items-center justify-center p-8 md:p-12 overflow-hidden group relative">
                        <% if(product.image) { %>
                            <img src="<%= product.image %>" alt="<%= product.name %>"
                                class="product-hero-img w-full h-full object-contain group-hover:scale-105">
                            <% } else { %>
                                <div class="text-4xl md:text-6xl font-black opacity-10 uppercase">
                                    <%= product.code %>
                                </div>
                                <% } %>

                                    <div
                                        class="absolute bottom-6 right-6 md:bottom-8 md:right-8 bg-black/60 backdrop-blur-md border border-white/5 px-4 py-2 rounded-full flex items-center gap-3">
                                        <span
                                            class="text-[8px] md:text-[9px] font-black uppercase tracking-widest text-zinc-400">Archival
                                            Grade</span>
                                        <div class="w-1.5 h-1.5 rounded-full bg-[#C5A059] animate-pulse"></div>
                                    </div>
                    </div>

                    <div class="flex gap-3 md:gap-4 px-1">
                        <div
                            class="w-20 h-20 md:w-24 md:h-24 glass-panel rounded-2xl p-2 md:p-3 border-[#C5A059]/40 border">
                            <img src="<%= product.image %>"
                                class="w-full h-full object-contain grayscale hover:grayscale-0 transition">
                        </div>
                        <div class="w-20 h-20 md:w-24 md:h-24 glass-panel rounded-2xl opacity-20 border border-white/5">
                        </div>
                        <div class="w-20 h-20 md:w-24 md:h-24 glass-panel rounded-2xl opacity-20 border border-white/5">
                        </div>
                    </div>
                </div>

                <div class="w-full lg:w-2/5 space-y-10 md:space-y-12 lg:sticky lg:top-32">
                    <div class="reveal">
                        <h1 class="product-title text-5xl md:text-7xl font-black tracking-tighter mb-6 uppercase">
                            <%= product.name %>
                        </h1>
                        <div class="flex items-center justify-between border-t border-white/5 pt-6">
                            <div>
                                <p class="text-3xl md:text-4xl font-black text-white">
                                    <%= product.price.toLocaleString() %>
                                </p>
                                <p
                                    class="text-[9px] md:text-[10px] font-black text-[#C5A059] uppercase tracking-widest">
                                    ETB Retail Price</p>
                            </div>
                            <div class="text-right">
                                <span
                                    class="inline-flex items-center gap-2 bg-green-500/10 text-green-500 px-4 py-2 rounded-full border border-green-500/20 text-[9px] font-black uppercase tracking-widest">
                                    <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span>
                                    In Stock
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="reveal space-y-3">
                        <h3 class="text-[10px] font-black uppercase tracking-[0.3em] text-zinc-600">Product Philosophy
                        </h3>
                        <p class="text-zinc-400 text-base md:text-lg leading-relaxed font-light">
                            Precision-engineered using high-density materials and structural-grade adhesives.
                            Features a UV-resistant coating, ensuring your investment retains its deep luster for a
                            lifetime.
                        </p>
                    </div>

                    <div class="reveal glass-panel rounded-[2rem] p-6 md:p-8 space-y-4">
                        <div class="spec-row py-3 flex justify-between items-center">
                            <span class="text-[9px] font-bold uppercase tracking-widest text-zinc-500">Collection
                                ID</span>
                            <span class="text-[10px] font-black text-white uppercase">
                                <%= product.code %>
                            </span>
                        </div>
                        <div class="spec-row py-3 flex justify-between items-center">
                            <span class="text-[9px] font-bold uppercase tracking-widest text-zinc-500">Dimensions</span>
                            <span class="text-[10px] font-black text-white uppercase">
                                <%= product.specs ? product.specs.dim : 'Standard' %>
                            </span>
                        </div>
                        <div class="spec-row py-3 flex justify-between items-center border-none">
                            <span class="text-[9px] font-bold uppercase tracking-widest text-zinc-500">Setup</span>
                            <span class="text-[10px] font-black text-[#C5A059] uppercase">Complimentary</span>
                        </div>
                    </div>

                    <div class="reveal space-y-4">
                        <a href="https://wa.me/251911223344?text=Requesting%20Quote%20for%20<%= product.name %>%20(Code:%20<%= product.code %>)"
                            target="_blank"
                            class="block w-full bg-white text-black text-center py-5 md:py-6 rounded-2xl font-black uppercase text-[10px] tracking-[0.2em] hover:bg-[#C5A059] transition-all shadow-2xl active:scale-[0.98]">
                            Inquire via WhatsApp
                        </a>

                        <div class="grid grid-cols-2 gap-3 md:gap-4">
                            <div class="glass-panel p-4 rounded-2xl text-center">
                                <span class="block text-xl mb-1">üõ°Ô∏è</span>
                                <p class="text-[8px] font-black uppercase tracking-widest text-zinc-500">5yr Warranty
                                </p>
                            </div>
                            <div class="glass-panel p-4 rounded-2xl text-center">
                                <span class="block text-xl mb-1">üöö</span>
                                <p class="text-[8px] font-black uppercase tracking-widest text-zinc-500">Local Delivery
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <% if (typeof products !=='undefined' && products.length> 0) {
                const relatedItems = products.filter(p => p.category === product.category && p.code !==
                product.code).slice(0, 3);
                if (relatedItems.length > 0) { %>
                <section class="mt-24 md:mt-40 reveal">
                    <div class="flex items-baseline justify-between mb-8 md:mb-12 border-b border-white/5 pb-6 md:pb-8">
                        <h2 class="text-3xl md:text-4xl font-black uppercase tracking-tighter">Pair <span
                                class="text-[#C5A059]">With.</span></h2>
                        <a href="/catalog"
                            class="text-[9px] font-black uppercase tracking-[0.2em] text-zinc-500 hover:text-[#C5A059]">Full
                            Collection ‚Üí</a>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
                        <% relatedItems.forEach(item=> { %>
                            <article class="group">
                                <a href="/product/<%= item.code %>" class="block">
                                    <div
                                        class="glass-panel rounded-[2.5rem] md:rounded-[3rem] aspect-square relative mb-6 overflow-hidden flex items-center justify-center p-8 transition-all duration-500 group-hover:border-[#C5A059]/30">
                                        <% if(item.image) { %>
                                            <img src="<%= item.image %>" alt="<%= item.name %>"
                                                class="w-full h-full object-contain group-hover:scale-110 transition-transform duration-700">
                                            <% } %>
                                                <div
                                                    class="absolute bottom-6 right-6 w-12 h-12 bg-[#C5A059] text-black rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 translate-y-4 group-hover:translate-y-0 transition-all duration-500 shadow-xl">
                                                    <svg width="18" height="18" viewBox="0 0 15 15" fill="none">
                                                        <path
                                                            d="M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z"
                                                            fill="currentColor"></path>
                                                    </svg>
                                                </div>
                                    </div>
                                    <div class="px-2 flex justify-between items-start">
                                        <div>
                                            <h3
                                                class="text-xl md:text-2xl font-black tracking-tight text-white group-hover:text-[#C5A059] transition-colors uppercase">
                                                <%= item.name %>
                                            </h3>
                                            <p class="text-[9px] text-zinc-600 font-black uppercase tracking-[0.2em]">
                                                <%= item.code %>
                                            </p>
                                        </div>
                                        <p class="text-xl md:text-2xl font-black text-white">
                                            <%= item.price.toLocaleString() %>
                                        </p>
                                    </div>
                                </a>
                            </article>
                            <% }) %>
                    </div>
                </section>
                <% } } %>
        </main>

        <%- include('partials/footer') %>


</body>

</html>